## NPSP Opportunities Example
### ------------- [          ORDER OF INSERT         ]------------ ###
# 1-0. Account (1)
# 1-1. Opportunity (6)

### ----------- [ Opportunity_npsp.recipe.yml Summary ]---------- ###
# This recipe creates 1 Account and 6 Opportunities, one for each NPSP Opportunity Record Type
#
### ----------- [               CLI RUN                ]---------- ###
# Use this command to run this recipe 30 times in a Salesforce scratch org called "dev":
# cci task run generate_and_load_from_yaml -o generator_yaml snowfakery_samples/npsp/Opportunity_npsp.recipe.yml -o num_records 30 -o num_records_tablename Account --org dev
#
# Use this command to run this recipe locally and output to a JSON file called output.json
# snowfakery --output-format json --output-file snowfakery_samples/temp/output.json snowfakery_samples/npsp/Opportunity_npsp.recipe.yml
#
### ----------- [            Recipe Starts             ]---------- ###
#
# Look at snowfakery_samples/salesforce/Contact.recipe.yml for more examples.

# Setup Step 1: Create 1 Account
- object: Account
  count: 1
  nickname: Organization
  fields:
    Name:
      fake: company
# Found existing Record Types: defaultdict(<class 'list'>, {'Account': ['HH_Account', 'Organization'], 'Opportunity':
#                    ['NPSP_Default', 'Donation', 'Grant', 'InKindGift', 'MajorGift', 'MatchingGift', 'Membership']})

### Scenario 1: Create a Donation Opportunity 
- object: Opportunity
  nickname: DonationOpportunity
  fields:
    AccountId: 
      reference: Organization
    Name: Donation Opportunity #if the NPSP Naming Convention feature is activated, this name will be replaced
    Description: A Donation Opportunity
    Amount:
      random_number:
        min: 1
        max: 10000
    RecordType: Donation
    CloseDate:
      date_between:
        start_date: -1y
        end_date: +1m
    StageName: Closed Won    

### Scenario 2: Create a Grant Opportunity 
- object: Opportunity
  nickname: GrantOpportunity
  fields:
    AccountId: 
      reference: Organization
    Name: Grant Opportunity #if the NPSP Naming Convention feature is activated, this name will be replaced
    Description: A Grant Opportunity
    Amount:
      random_number:
        min: 1
        max: 100000
    RecordType: Grant
    CloseDate:
      date_between:
        start_date: +1m
        end_date: +1y
    StageName: Prospecting

### Scenario 3: Create an In-Kind Donation Opportunity 
- object: Opportunity
  nickname: InKindOpportunity
  fields:
    AccountId: 
      reference: Organization
    Name: In-Kind Gift Opportunity #if the NPSP Naming Convention feature is activated, this name will be replaced
    Description: Goods or Services received as In-Kind
    Amount:
      random_number:
        min: 1
        max: 10000
    RecordType: InKindGift
    CloseDate:
      date_between:
        start_date: -1y
        end_date: +1m
    StageName: In-Kind Gift Received

### Scenario 4: Create a Major Gift Opportunity 
- object: Opportunity
  nickname: MajorGiftOpportunity
  fields:
    AccountId: 
      reference: Organization
    Name: Major Gift Opportunity #if the NPSP Naming Convention feature is activated, this name will be replaced
    Description: Large Donation from a Major Donor
    Amount:
      random_number:
        min: 1
        max: 500000
    RecordType: MajorGift
    CloseDate:
      date_between:
        start_date: -1y
        end_date: +1m
    StageName: Solicitation

### Scenario 5: Create a Matching Gift Opportunity 
- object: Opportunity
  nickname: MatchingGiftOpportunity
  fields:
    AccountId: 
      reference: Organization
    Name: Matching Gift Opportunity #if the NPSP Naming Convention feature is activated, this name will be replaced
    Description: Matching Donation from an Donor's Employer or other Organization
    Amount:
      random_number:
        min: 1
        max: 50000
    RecordType: MatchingGift
    CloseDate:
      date_between:
        start_date: -6m
        end_date: +1m
    StageName: Posted

### Scenario 6: Create a Membership Opportunity 
- object: Opportunity
  nickname: MembershipOpportunity
  fields:
    AccountId: 
      reference: Organization
    Name: Membership Opportunity #if the NPSP Naming Convention feature is activated, this name will be replaced
    Description: A membership record type
    Amount:
      random_number:
        min: 1
        max: 5000
    RecordType: Membership
    CloseDate:
      date_between:
        start_date: -1y
        end_date: +1m
    StageName: Posted